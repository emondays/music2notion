(function(){var c7f=NEJ.P,bs8k=NEJ.F,G7z=c7f("nej.ut"),j7c=c7f("nej.u"),h7a=c7f("nej.v"),t7m=c7f("nej.j"),n7g=c7f("nm.l"),p7i=c7f("nm.d"),b7g;p7i.fp8h({"artist_sub-list":{url:"/api/artist/sublist",type:"GET",format:function(Q7J,e7d){var k7d=Q7J.data||[];k7d.length=e7d.data.limit;return{total:Q7J.count||0,list:k7d}}},"artist_sub-add":{url:"/api/artist/sub",type:"GET",format:function(Q7J,e7d){n7g.bb8T.I7B({tip:"收藏成功",type:1});h7a.z7s(p7i.wV2x,"itemchange",{id:e7d.data.artistId,subscribed:true})},onmessage:function(ca8S){var lK0x={405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};n7g.bb8T.I7B({tip:lK0x[ca8S]||"收藏失败",type:2})}},"artist_sub-del":{url:"/api/artist/unsub",type:"GET",filter:function(e7d){e7d.data.artistIds="["+e7d.data.artistId+"]"},format:function(Q7J,e7d){n7g.bb8T.I7B({tip:"取消收藏成功",type:1});h7a.z7s(p7i.wV2x,"itemchange",{id:e7d.data.artistId,subscribed:false})},onmessage:function(ca8S){var lK0x={405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};n7g.bb8T.I7B({tip:lK0x[ca8S]||"收藏失败",type:2})}}});p7i.wV2x=NEJ.C();b7g=p7i.wV2x.M7F(p7i.hQ9H);b7g.cy8q=function(){this.cC8u()};G7z.fR8J.B7u({element:p7i.wV2x,event:["listchange","itemchange"]})})();
(function(){var c7f=NEJ.P,bc8U=NEJ.O,bs8k=NEJ.F,a7h=c7f("nej.e"),h7a=c7f("nej.v"),G7z=c7f("nej.ut"),j7c=c7f("nej.u"),Y8Q=c7f("nej.ui"),l7e=c7f("nm.x"),p7i=c7f("nm.d"),y7r=c7f("nm.w"),du8m=c7f("nm.i"),b7g;var RES_KEY_REG=/^track_(playlist|album|artist_top|program|day|listen_record)-*(\d*)$/;y7r.By3x=NEJ.C();b7g=y7r.By3x.M7F(Y8Q.er8j);b7g.ce8W=function(){this.cd8V="m-wgt-song-box"};b7g.bW8O=function(){this.cg8Y();var k7d=a7h.C7v(this.o7h,"j-flag");this.cf8X={limit:1e3,parent:k7d[0],onbeforelistload:this.pP0x.f7c(this),onemptylist:this.ry1x.f7c(this),onafterlistrender:this.xK2x.f7c(this)}};b7g.bn8f=function(e7d){this.bp8h(e7d);this.o7h.setAttribute("oncopy","return false;");this.o7h.setAttribute("oncut","return false;");this.o7h.setAttribute("ondragstart","return false;");this.bY8Q([[this.o7h,"click",this.bN8F.f7c(this)],[window,"playchange",this.hL9C.f7c(this)]]);var bt8l=j7c.gT9K(location.search.slice(1)),tP1x=bt8l["_hash"];if(tP1x&&/^songlist-(\d+)$/.test(tP1x)){this.bae9V=RegExp.$1}if(e7d.limit>0)this.cf8X.limit=e7d.limit;this.cf8X.item={klass:e7d.tpl||"m-wgt-song-list",canDel:e7d.canDel,type:e7d.type,disable:this.bkO1x,songAlia:l7e.bud3x,dur2time:l7e.lP0x,removeQuotes:l7e.cao7h,getArtistName:l7e.sS1x,isPlaying:this.bkP1x,extData:e7d.extData,soil:l7e.buA3x};this.cf8X.cache={clear:true,klass:p7i.uS2x,lkey:e7d.key,data:e7d.data};this.cf8X.item.from=this.bEI4M();if(e7d.from&&e7d.from=="24"){this.cf8X.item.from={fid:"24"}}this.cf8X.item.getFrom=this.bEI4M.f7c(this);if(this.dD8v){this.dD8v.V8N()}this.dD8v=G7z.lZ0x.B7u(this.cf8X)};b7g.bB8t=function(){this.bH8z();if(this.dD8v){this.dD8v.V8N();delete this.dD8v}delete this.bae9V};b7g.bN8F=function(d7e){var g7b=h7a.ba8S(d7e,"d:resAction"),U7N=a7h.v7o(g7b,"resAction"),E7x=a7h.v7o(g7b,"resId");if(!g7b)return;var bg8Y=this.dD8v.vl2x().eN8F(E7x);var eB8t=l7e.sD1x(bg8Y,U7N),lw0x=bg8Y.privilege||{};switch(U7N){case"mv":if(eB8t!=100){location.dispatch2("/mv?id="+bg8Y.mvid)}else{l7e.iW9N()}break;case"play":case"addto":case"download":case"share":case"fav":case"subscribe":if(U7N=="play"){var k7d=this.dD8v.vl2x().hG9x(this.cf8X.cache.lkey)||[];this.z7s("onplay",{song:bg8Y,index:j7c.dv8n(k7d,function(q7j){return q7j.id==bg8Y.id})})}if(U7N=="download"&&eB8t==1e3){l7e.iW9N("因版权方要求，该歌曲不支持下载");h7a.bi8a(d7e)}else if((U7N=="play"||U7N=="addto")&&eB8t==11){l7e.bOn6h(bg8Y.id,18);h7a.bi8a(d7e)}else if(eB8t==10){l7e.xd2x(lw0x.fee||bg8Y.fee,bg8Y.id,"song",null,lw0x);h7a.bi8a(d7e)}else if(eB8t==100){l7e.iW9N(null,null,null,true,bg8Y);h7a.bi8a(d7e)}else if(eB8t==1e4){l7e.HR6L(bg8Y.id,lw0x,U7N);h7a.bi8a(d7e)}else if(eB8t==10001&&U7N=="download"){l7e.HR6L(bg8Y.id,lw0x,U7N);h7a.bi8a(d7e)}break;case"delete":l7e.hk9b({btnok:"确定",btncc:"取消",message:"确定删除歌曲？",action:function(D7w){if(D7w=="ok"){this.dD8v.mi0x({pid:this.cf8X.cache.data.id,trackIds:[E7x]})}}.f7c(this)});break;default:this.z7s("onaction",{action:U7N,id:E7x})}};b7g.pP0x=function(d7e){d7e.value='<div class="u-load s-fc4"><i class="icn"></i> 加载中...</div>';this.z7s("onbeforelistload",d7e)};b7g.ry1x=function(d7e){d7e.value='<div class="n-nmusic"><h3 class="f-ff2"><i class="u-icn u-icn-21"></i>暂无音乐</h3></div>';this.z7s("onemptylist",d7e)};b7g.xK2x=function(d7e){if(this.bae9V){a7h.ok0x(this.bae9V+""+a7h.LP7I());delete this.bae9V}this.z7s("onafterlistrender",d7e)};b7g.bkO1x=function(bg8Y){return l7e.bOj6d(bg8Y)};b7g.hL9C=function(d7e){var bkQ1x=a7h.C7v(this.o7h,"ply-z-slt")||[],gC9t=a7h.A7t(d7e.trackId+""+a7h.LP7I());j7c.bh8Z(bkQ1x,function(gq9h){a7h.x7q(gq9h,"ply-z-slt")});if(gC9t){a7h.w7p(a7h.C7v(gC9t,"ply")[0],"ply-z-slt")}};b7g.bkP1x=function(bg8Y){try{var rw1x=top.player.getPlaying();return rw1x&&rw1x.track.id==bg8Y.id}catch(e){}};b7g.bEI4M=function(){var bkR1x,dJ8B={},bD8v={playlist:13,album:19,artist_top:2,program:17,day:24,listen_record:50};if(bkR1x=RES_KEY_REG.exec(this.cf8X.cache.lkey)){dJ8B.fid=bD8v[bkR1x[1]];dJ8B.fdata=bkR1x[2]||0;if(dJ8B.fid==50){dJ8B.fdata=this.cf8X.cache.data.uid}return dJ8B}};b7g.IW7P=function(cQ8I,mZ0x){if(!this.dD8v)return false;var k7d=this.dD8v.vl2x().hG9x(this.cf8X.cache.lkey)||[];return l7e.HT6N(k7d,cQ8I,mZ0x).length==0};b7g.cqK4O=function(){if(!this.dD8v)return true;var k7d=this.dD8v.vl2x().hG9x(this.cf8X.cache.lkey)||[];return l7e.HT6N(k7d,false,{play:true}).length<k7d.length};b7g.cqL4P=function(){return this.dD8v};b7g.bEQ4U=function(){var k7d=this.dD8v.vl2x().hG9x(this.cf8X.cache.lkey)||[],m7f=[],eB8t=null;for(var i=k7d.length-1,ii;i>=0;i--){ii=k7d[i];eB8t=l7e.sD1x(ii);if(eB8t!=10&&eB8t!=100){m7f.unshift(ii)}}return m7f};b7g.ZV9M=function(type){var bg8Y,nR0x,k7d=this.bkS1x().slice(0);if(type&&type==="album"&&k7d[0].privilege.fee==4){var canCmt=true;while(k7d.length){bg8Y=k7d.shift();nR0x=bg8Y.privilege;if(!nR0x){nR0x={fee:bg8Y.fee,cp:-bg8Y.status,pl:192,dl:192,toast:false,st:0,payed:0}}if(nR0x.payed==0){canCmt=false;break}}if(canCmt){return null}}else{while(k7d.length){bg8Y=k7d.shift();nR0x=bg8Y.privilege;if(!nR0x){nR0x={fee:bg8Y.fee,cp:-bg8Y.status,pl:192,dl:192,toast:false,st:0}}if(nR0x.cp>0){return null}}}return{songId:bg8Y.id,fee:nR0x.fee,cp:canCmt?nR0x.cp:0,pl:nR0x.pl,dl:nR0x.dl,toast:nR0x.toast,st:nR0x.st}};b7g.bkS1x=function(){return this.dD8v.vl2x().hG9x(this.cf8X.cache.lkey)||[]};b7g.oa0x=function(){return!this.dD8v.vl2x().hG9x(this.cf8X.cache.lkey).length}})();
(function(){var c7f=NEJ.P,a7h=c7f("nej.e"),h7a=c7f("nej.v"),j7c=c7f("nej.u"),ci8a=c7f("nej.ut"),y7r=c7f("nm.w"),b7g;var crl5q=typeof GEnvType=="undefined"||GEnvType=="online"?location.protocol+"//iad.g.163.com":location.protocol+"//t.rec.g.163.com/accuad";y7r.Jd7W=NEJ.C();b7g=y7r.Jd7W.M7F(ci8a.cP8H);var cru5z={homepage:"column689x75",detail:"logo200x220"};b7g.bn8f=function(e7d){e7d=e7d||{};this.bp8h(e7d);this.o7h=a7h.A7t("j-music-ad");if(!this.o7h)return;this.ZQ9H=e7d.cat||"";this.bkU1x=e7d.resType||"";this.cQE7x=e7d.resId||0;this.crW5b=a7h.v7o(this.o7h,"hasMusicAd")=="1";var k7d=a7h.C7v(this.o7h,"j-flag");this.on0x=k7d.shift();this.bkX1x=k7d.shift();this.cso5t();this.bY8Q([[this.on0x,"click",this.cA8s.f7c(this)]])};b7g.cso5t=function(){var cG8y="g_cb"+j7c.WJ9A(5),X8P=crl5q+"/wa/ad_check?",cn8f={site:"netease",affiliate:"music",cat:this.ZQ9H,type:cru5z[this.ZQ9H],location:1,callback:cG8y},zP3x=document.createElement("script");window[cG8y]=this.csp5u.f7c(this);zP3x.src=X8P+j7c.cq8i(cn8f);zP3x.id="j-script-ad";zP3x.type="text/javascript";this.csx5C=cG8y;document.body.appendChild(zP3x)};b7g.csp5u=function(bP8H){if(bP8H&&bP8H.result){a7h.x7q(this.o7h,"f-hide");a7h.x7q(this.bkX1x,"f-hide");a7h.w7p(this.on0x,"f-hide")}else if(this.crW5b){a7h.x7q(this.o7h,"f-hide");a7h.x7q(this.on0x,"f-hide");a7h.w7p(this.bkX1x,"f-hide");if(this.bFo4s()){this.bFu4y()}else{h7a.s7l(window,"scroll",this.csZ5e.f7c(this))}}else{a7h.w7p(this.o7h,"f-hide");a7h.w7p(this.on0x,"f-hide");a7h.w7p(this.bkX1x,"f-hide")}a7h.cS8K(a7h.A7t("j-script-ad"));delete window[this.csx5C]};var ep8h=null;var bFB4F=!1;var bkY1x=!0;var ZJ9A=0;var bkZ1x=0;b7g.bFo4s=function(){var bla1x=!1;if(this.on0x){if(bkY1x){bkY1x=!0;ZJ9A=a7h.iB9s(this.on0x,document.body).y;bkZ1x=ZJ9A+this.on0x.clientHeight}var gu9l=Math.max(document.body.scrollTop,document.documentElement.scrollTop);var bFV4Z=document.body.clientHeight;var Kc7V=0;if(top.g_bottomBarShow&&top.g_bottomBarHeight)Kc7V=top.g_bottomBarHeight;if(ZJ9A>gu9l&&ZJ9A<gu9l+bFV4Z-Kc7V){bla1x=!0}else if(bkZ1x>gu9l&&bkZ1x<gu9l+bFV4Z-Kc7V){bla1x=!0}}return bla1x};b7g.csZ5e=function(){if(bFB4F)return;clearTimeout(ep8h);ep8h=setTimeout(this.ctJ5O.f7c(this),1e3)};b7g.ctJ5O=function(){if(this.bFo4s()){bFB4F=true;this.bFu4y()}};b7g.bFu4y=function(){this.bFW4a("impress")};b7g.cA8s=function(d7e){this.bFW4a("click")};b7g.bFW4a=function(u7n){if(!this.on0x)return;var E7x=a7h.v7o(this.on0x,"id");var X8P=a7h.v7o(this.on0x,"url");var cub5g=a7h.v7o(this.on0x,"pageid");var cuh5m=a7h.v7o(this.on0x,"pagetype");var Q7J=null;if(this.ZQ9H=="homepage"){Q7J={target:"ad",resource:"newalbum",url:X8P,id:E7x}}else if(this.ZQ9H=="detail"){Q7J={target:"ad",resource:cuh5m||"",resourceid:cub5g||0,id:+E7x,url:X8P}}if(Q7J&&window.log){window.log(u7n,Q7J)}}})();
(function(){var c7f=NEJ.P,a7h=c7f("nej.e"),j7c=c7f("nej.u"),p7i=c7f("nm.d"),l7e=c7f("nm.x"),y7r=c7f("nm.w"),t7m=c7f("nej.j"),cui5n=j7c.bIe5j,R7K=y7r.bwI3x;var blc1x="g"+R7K.kG0x+R7K.oj0x+"E"+R7K.un2x+R7K.kG0x+"m"+R7K.kG0x+R7K.yj2x+R7K.oj0x+R7K.cnm4q+"ByT"+R7K.nd0x+"gN"+R7K.nd0x+"m"+R7K.kG0x;l7e.cut5y=function(a,type){var a=a7h.A7t(a),kl=a7h.v7o,cI8A=a&&a[blc1x](""+R7K.oj0x+R7K.kG0x+"x"+R7K.oj0x+R7K.nd0x+R7K.Sv8n+R7K.kG0x+R7K.nd0x)[0],J7C=R7K.vA2x("kl","a",R7K.tD1x+" "+R7K.vA2x(R7K.tD1x+"'"+"\\"+R7K.cY8Q+R7K.eu8m+R7K.mE0x+R7K.un2x+"\\"+R7K.eu8m+R7K.ki9Z+R7K.nd0x+"\\"+R7K.eu8m+R7K.hi9Z+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.cY8Q+R7K.eu8m+R7K.mE0x+R7K.kG0x+"\\"+R7K.cY8Q+R7K.iA9r+R7K.cY8Q+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.eu8m+R7K.cY8Q+"'")())(kl,a),XP9G=R7K.vA2x("kl","a",R7K.tD1x+" "+R7K.vA2x(R7K.tD1x+"'"+"\\"+R7K.cY8Q+R7K.eu8m+R7K.mE0x+R7K.un2x+"\\"+R7K.eu8m+R7K.ki9Z+R7K.nd0x+"\\"+R7K.eu8m+R7K.hi9Z+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.cY8Q+R7K.iY9P+R7K.mE0x+"\\"+R7K.cY8Q+R7K.eu8m+R7K.cY8Q+"\\"+R7K.cY8Q+R7K.eu8m+R7K.eu8m+"\\"+R7K.cY8Q+R7K.iY9P+R7K.ki9Z+R7K.un2x+R7K.kG0x+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.eu8m+R7K.cY8Q+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.iA9r+R7K.eu8m+"\\"+R7K.iA9r+R7K.eu8m+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.hi9Z+R7K.iA9r+R7K.cY8Q+"\\"+R7K.hi9Z+R7K.iA9r+"'")())(kl,a),bua3x=R7K.vA2x("kl","a",R7K.tD1x+" "+R7K.vA2x(R7K.tD1x+"'"+"\\"+R7K.cY8Q+R7K.eu8m+R7K.mE0x+R7K.un2x+"\\"+R7K.eu8m+R7K.ki9Z+R7K.nd0x+"\\"+R7K.eu8m+R7K.hi9Z+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.cY8Q+R7K.iY9P+R7K.ki9Z+"\\"+R7K.cY8Q+R7K.iY9P+R7K.iY9P+R7K.yj2x+R7K.nd0x+"\\"+R7K.cY8Q+R7K.eu8m+R7K.eu8m+R7K.kG0x+R7K.bwF3x+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.eu8m+R7K.cY8Q+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.iA9r+R7K.eu8m+"\\"+R7K.iA9r+R7K.eu8m+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.hi9Z+R7K.iA9r+R7K.cY8Q+"\\"+R7K.hi9Z+R7K.iA9r+"'")())(kl,a),XJ9A=p7i.uS2x.fJ8B();if(!(a&&cI8A&&J7C))return;var uJ2x,gs,bld1x;uJ2x=a7h.C7v(a7h.A7t("m-p"+R7K.un2x+R7K.nd0x+"y"+R7K.un2x+"is"+R7K.oj0x),R7K.vA2x(R7K.tD1x+"'"+"\\"+R7K.cY8Q+R7K.eu8m+R7K.vD2x+"\\"+R7K.eu8m+R7K.eu8m+"\\"+R7K.cY8Q+R7K.eu8m+R7K.cY8Q+"\\"+R7K.cY8Q+R7K.eu8m+R7K.eu8m+"\\"+R7K.cY8Q+R7K.hi9Z+R7K.iA9r+"'")());j7c.bh8Z(uJ2x,function(b){gs=R7K.vA2x("b","kl","gs",R7K.vA2x(R7K.tD1x+"'"+"\\"+R7K.cY8Q+R7K.eu8m+R7K.cY8Q+R7K.bwH3x+"\\"+R7K.eu8m+R7K.ki9Z+"\\"+R7K.hi9Z+R7K.cY8Q+"\\"+R7K.cY8Q+R7K.hi9Z+R7K.iA9r+"\\"+R7K.cY8Q+R7K.iY9P+R7K.mE0x+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.hi9Z+R7K.iY9P+"\\"+R7K.hi9Z+R7K.iY9P+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.cY8Q+R7K.eu8m+R7K.mE0x+R7K.un2x+"\\"+R7K.eu8m+R7K.ki9Z+R7K.bhT0x+"\\"+R7K.eu8m+R7K.hi9Z+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.cY8Q+R7K.eu8m+R7K.mE0x+R7K.kG0x+"\\"+R7K.cY8Q+R7K.iA9r+R7K.cY8Q+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.eu8m+R7K.cY8Q+"\\"+R7K.eu8m+R7K.cY8Q+"\\"+R7K.cY8Q+R7K.iA9r+R7K.mE0x+"\\"+R7K.cY8Q+R7K.iY9P+R7K.iY9P+R7K.nd0x+"\\"+R7K.cY8Q+R7K.iY9P+R7K.vD2x+"\\"+R7K.hi9Z+R7K.ki9Z+R7K.LS7L+"\\"+R7K.iA9r+R7K.eu8m+"\\"+R7K.cY8Q+R7K.eu8m+R7K.mE0x+R7K.un2x+"\\"+R7K.eu8m+R7K.ki9Z+R7K.bhT0x+"\\"+R7K.eu8m+R7K.hi9Z+"\\"+R7K.hi9Z+R7K.ki9Z+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.cY8Q+R7K.eu8m+R7K.mE0x+R7K.kG0x+"\\"+R7K.cY8Q+R7K.iA9r+R7K.cY8Q+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.eu8m+R7K.cY8Q+"\\"+R7K.iA9r+R7K.mE0x+R7K.bhT0x+"\\"+R7K.eu8m+R7K.iY9P+"\\"+R7K.cY8Q+R7K.iY9P+R7K.vD2x+R7K.kG0x+"\\"+R7K.cY8Q+R7K.eu8m+R7K.eu8m+R7K.Ex3x+"\\"+R7K.cY8Q+R7K.iY9P+R7K.iY9P+R7K.kG0x+"\\"+R7K.cY8Q+R7K.ki9Z+R7K.cY8Q+R7K.oj0x+R7K.oj0x+"\\"+R7K.cY8Q+R7K.iY9P+R7K.vD2x+"\\"+R7K.cY8Q+R7K.eu8m+R7K.cY8Q+R7K.bhT0x+"\\"+R7K.cY8Q+R7K.iY9P+R7K.eu8m+R7K.oj0x+R7K.kG0x+"\\"+R7K.eu8m+R7K.ki9Z+"\\"+R7K.hi9Z+R7K.iA9r+R7K.bwF3x+R7K.nd0x+R7K.oj0x+R7K.nd0x+"\\"+R7K.eu8m+R7K.eu8m+"\\"+R7K.cY8Q+R7K.eu8m+R7K.mE0x+R7K.kG0x+"\\"+R7K.cY8Q+R7K.iA9r+R7K.cY8Q+"\\"+R7K.hi9Z+R7K.iA9r+"\\"+R7K.eu8m+R7K.cY8Q+"\\"+R7K.iA9r+R7K.mE0x+"\\"+R7K.cY8Q+R7K.iY9P+R7K.vD2x+R7K.kG0x+R7K.oj0x+"\\"+R7K.cY8Q+R7K.iY9P+R7K.eu8m+"\\"+R7K.cY8Q+R7K.iY9P+R7K.vD2x+R7K.yj2x+"\\"+R7K.hi9Z+R7K.ki9Z+R7K.LS7L+"\\"+R7K.iA9r+R7K.mE0x+"\\"+R7K.cY8Q+R7K.iA9r+R7K.eu8m+"'")())(b,kl,gs)});uJ2x=a[blc1x](R7K.bNW6Q+R7K.un2x)[0];if(uJ2x){uJ2x=uJ2x[blc1x](R7K.nd0x)[0];bld1x=a7h.hd9U(uJ2x,"hr"+R7K.kG0x+R7K.bwH3x).slice(9,12)}var D7w=cI8A.value||cI8A.defaultValue;if(gs&&bld1x){if(type==13){var encrypStr,position;t7m.be8W("/m/api/encryption/param/get",{sync:true,type:"json",query:{},method:"get",onload:function(data){encrypStr=data.encrypStr;position=parseInt(data.position,10)}});D7w=D7w.slice(0,position)+D7w.slice(position+encrypStr.length)}D7w=decodeURIComponent(cui5n(D7w,typeof window[l7e.rC1x()]+gs+bld1x))}D7w=JSON.parse(D7w);if(bua3x){l7e.bIb5g(D7w)}if(XP9G){D7w=l7e.yg2x(D7w)}XJ9A.sO1x(J7C,D7w);a[R7K.vA2x(R7K.tD1x+"'\\"+R7K.cY8Q+R7K.eu8m+R7K.cY8Q+R7K.yj2x+R7K.yj2x+R7K.kG0x+"\\"+R7K.cY8Q+R7K.iY9P+R7K.vD2x+"\\"+R7K.cY8Q+R7K.cY8Q+R7K.ki9Z+"\\"+R7K.cY8Q+R7K.vD2x+R7K.hi9Z+"\\"+R7K.cY8Q+R7K.cY8Q+R7K.eu8m+"\\"+R7K.cY8Q+R7K.cY8Q+R7K.hi9Z+"'")()]="";return J7C}})();
(function(){var c7f=NEJ.P,a7h=c7f("nej.e"),t7m=c7f("nej.j"),bc8U=c7f("nej.o"),j7c=c7f("nej.u"),h7a=c7f("nej.v"),bG8y=c7f("nej.ui"),p7i=c7f("nm.d"),l7e=c7f("nm.x"),n7g=c7f("nm.l"),b7g,L7E;n7g.bYJ7C=NEJ.C();b7g=n7g.bYJ7C.M7F(n7g.dZ8R,!0);b7g.cy8q=function(){this.cC8u()};b7g.bW8O=function(){this.cg8Y();var k7d=a7h.C7v(this.o7h,"j-flag");this.IC6w=k7d[0];this.bkI1x=k7d[1];this.biK0x=k7d[2];h7a.s7l(k7d[3],"click",this.bkH1x.f7c(this))};b7g.ce8W=function(){this.cd8V="ntp-alert"};b7g.bn8f=function(e7d){e7d.parent=e7d.parent||document.body;this.bp8h(e7d);a7h.bd8V(this.IC6w,"display","");if(e7d.type=="noicon"){a7h.bd8V(this.IC6w,"display","none")}else if(e7d.type=="success"){a7h.fq8i(this.IC6w,"u-icn-88","u-icn-89")}else{a7h.fq8i(this.IC6w,"u-icn-89","u-icn-88")}this.bkI1x.innerHTML=e7d.mesg||"";if(e7d.mesg2){a7h.x7q(this.biK0x,"f-hide");this.biK0x.innerHTML=e7d.mesg2||""}else{a7h.w7p(this.biK0x,"f-hide")}};b7g.bB8t=function(){this.bH8z()};b7g.bkH1x=function(d7e){this.z7s("onnotice");this.bq8i()};n7g.dS8K=function(e7d){if(this.Bc3x){this.Bc3x.V8N();delete this.Bc3x}this.Bc3x=n7g.bYJ7C.B7u(e7d);this.Bc3x.I7B()}})();
(function(){var map={};var c7f=NEJ.P,h7a=c7f("nej.v"),G7z=c7f("nej.ut"),p7i=c7f("nm.d"),l7e=c7f("nm.x"),n7g=c7f("nm.l"),j7c=c7f("nej.u"),b7g,L7E;p7i.fp8h({"comment-list":{url:"/api/comment/resource/comments/get",filter:function(options){try{var pageConfig=JSON.parse(sessionStorage.getItem("pageConfig")||"{}");var data=options.data;offset=data.offset;var pageNo=offset/options.limit+1;var flag=!!map[options.key];var lastPage=pageConfig.last||flag&&map[options.key].pageNo||1;options.data={rid:data.rid,threadId:data.rid,pageNo:pageNo,pageSize:options.limit,cursor:pageNo===1||!flag?-1:map[options.key][lastPage].cursor,offset:!flag?0:(Math.abs(lastPage-pageNo)-1)*options.limit,orderType:pageNo===1||!flag||pageNo>lastPage?1:0};var match=window.location.search.match(/commentId=(\d+)/);if(match){options.data.commentId=match[1]}if(flag&&+map[options.key].totalPage===+pageNo){options.data.orderType=0;options.data.cursor=0;options.data.offset=0;options.data.pageSize=map[options.key].totalCount-options.limit*(pageNo-1)}}catch(error){}},format:function(Q7J,e7d){Q7J=Q7J.data;if(!map[e7d.key])map[e7d.key]={};if(!map[e7d.key][e7d.data.pageNo])map[e7d.key][e7d.data.pageNo]={};map[e7d.key][e7d.data.pageNo].cursor=Q7J.cursor;map[e7d.key].pageNo=e7d.data.pageNo;map[e7d.key].totalPage=Math.ceil(Q7J.totalCount/e7d.data.pageSize);map[e7d.key].totalCount=Q7J.totalCount;this.z7s("oncantopcomments",Q7J.isMusician&&Q7J.cnum>0);if(Q7J.currentComment){this.sO1x("comment_cur-"+e7d.data.rid,[Q7J.currentComment])}if(Q7J.topComments){Q7J.hotComments=Q7J.topComments.concat(Q7J.hotComments||[])}if(Q7J.hotComments){this.sO1x("comment_hot-"+e7d.data.rid,Q7J.hotComments)}if(/R_SO_(\d)_(\d+)/.test(e7d.data.rid))this.cEe6Y(Q7J.comments,RegExp.$2);var HH6B=Q7J.comments||[];if(Q7J.more&&HH6B.length<e7d.data.pageSize){HH6B.length=e7d.data.pageSize}return{total:Q7J.totalCount||0,list:HH6B}},finaly:function(d7e){h7a.z7s(p7i.sa1x,"listchange",d7e)}},"comment-add":{url:"/api/resource/comments/add",format:function(Q7J,e7d){n7g.bb8T.I7B({tip:"评论成功"});return Q7J.comment},finaly:function(d7e){h7a.z7s(p7i.sa1x,"listchange",d7e)},onmessage:function(ca8S,m7f){var cQ8I="评论失败";if(ca8S==407){n7g.bb8T.I7B({tip:"评论成功"});h7a.z7s(p7i.sa1x,"listchange",{action:"add"});return}else if(ca8S==404){cQ8I="评论的资源已被删除"}else if(ca8S==315){cQ8I="根据对方设置，你没有该操作权限"}else if(ca8S==405){cQ8I=m7f.message||"评论过于频繁"}else if(ca8S==250){cQ8I=m7f.message||m7f.msg||"评论异常"}else if(ca8S==512){l7e.iW9N(m7f.ext.msg);return}n7g.bb8T.I7B({tip:cQ8I,type:2})}},"comment-del":{url:"/api/resource/comments/delete",filter:function(dQ8I,bf8X){if(dQ8I.data.canDeleteComment){bf8X.url="/api/gorilla/gateway/dispose/front/done"}else if(dQ8I.data.type=="hot"){bf8X.url="/api/report/reportcomment";dQ8I.data.reason="段子或无意义的评论";dQ8I.data.type=0}else if(dQ8I.data.type=="admin"){bf8X.url="/api/comment/delete"}else{bf8X.url="/api/resource/comments/delete"}delete dQ8I.data.canDeleteComment},format:function(Q7J,e7d){var Cx3x=this.hG9x("comment_hot-"+e7d.data.threadId),r7k=j7c.dv8n(Cx3x,function(q7j){return q7j.commentId==e7d.data.commentId});if(r7k!=-1){Cx3x.splice(r7k,1)}if(e7d.data.type=="hot"||j7c.us2x(e7d.data.type)){var q7j=this.eN8F(e7d.data.commentId);if(q7j){q7j.isRemoveHotComment=true}h7a.z7s(p7i.sa1x,"listchange",{action:"refresh",key:e7d.key});n7g.bb8T.I7B({tip:"已从精彩评论中移除",type:1});return null}return this.eN8F(e7d.data.commentId)},finaly:function(d7e){h7a.z7s(p7i.sa1x,"listchange",d7e)},onmessage:function(ca8S){n7g.bb8T.I7B({tip:"评论删除失败",type:2})}},"comment-update":{url:"/api/v1/comment/like",filter:function(e7d,bf8X){if(e7d.data.like){bf8X.url="/api/v1/comment/like"}else{bf8X.url="/api/v1/comment/unlike"}},format:function(Q7J,e7d){var sL1x=this.eN8F(e7d.data.commentId);sL1x.liked=e7d.data.like;sL1x.likedCount=sL1x.likedCount||0;sL1x.likedCount=sL1x.likedCount+(sL1x.liked?1:-1);return sL1x},finaly:function(d7e){d7e.action="refresh";h7a.z7s(p7i.sa1x,"listchange",d7e)},onmessage:function(ca8S,m7f){if(ca8S==315){n7g.bb8T.I7B({tip:"根据对方设置，你没有该操作权限",type:2})}else if(ca8S==250){n7g.bb8T.I7B({tip:m7f.message||"点赞异常",type:2})}else{n7g.bb8T.I7B({tip:"操作失败",type:2})}}},"comment-reply":{url:"/api/v1/resource/comments/reply",format:function(Q7J,e7d){return Q7J.comment},finaly:function(d7e,e7d){h7a.z7s(p7i.sa1x,"listchange",d7e);n7g.bb8T.I7B({tip:"回复成功"})},onmessage:function(ca8S,m7f){if(ca8S==407){n7g.bb8T.I7B({tip:"回复成功"});this.z7s("onreply")}else if(ca8S==315){n7g.bb8T.I7B({tip:"根据对方设置，你没有该操作权限",type:2})}else if(ca8S==250){n7g.bb8T.I7B({tip:m7f.message||"评论异常",type:2})}else{n7g.bb8T.I7B({tip:"回复失败，请稍后再试",type:2})}}},"comment-top":{url:"/api/v1/resource/comments/musician/topcomment",finaly:function(d7e,e7d){if(d7e.stopped){return}h7a.z7s(p7i.sa1x,"listchange",d7e);n7g.bb8T.I7B({tip:e7d.data.audit==1?"取消置顶成功":"置顶成功"})},onmessage:function(ca8S,m7f){var Q7J=m7f.ext||{};if(ca8S==-3){var HH6B=Q7J.topComments,bID5I=[],bD8v={};if(HH6B&&HH6B.length){j7c.bh8Z(HH6B,function(q7j,r7k){if(!bD8v[q7j.threadId]){bID5I.push(q7j.type+"《"+j7c.dN8F(q7j.name)+"》");bD8v[q7j.threadId]=true}})}else{cR8J="其余资源"}n7g.dS8K({mesg:'<span style="line-height:20px;" class="f-fw0">'+bID5I.join("、")+"<br/>使用了置顶权限，取消后再操作新评论</span>",type:"noicon",title:"提示"})}else if(ca8S==-2){n7g.bb8T.I7B({tip:"该条评论已经置顶",type:2})}else{n7g.bb8T.I7B({tip:"操作失败，请稍后再试",type:2})}}}});p7i.sa1x=NEJ.C();b7g=p7i.sa1x.M7F(p7i.hQ9H);b7g.cy8q=function(){this.cC8u();this.jJ9A=p7i.hO9F.B7u()};b7g.bn8f=function(e7d){this.bp8h(e7d)};b7g.bB8t=function(){map={};this.bH8z()};b7g.biJ0x=function(e7d){e7d.onload=this.FQ3x.f7c(this,e7d);this.cj8b("comment-reply",e7d)};b7g.FQ3x=function(e7d,q7j){e7d.key="comment-"+e7d.data.threadId;var d7e=this.BF3x(e7d,q7j);this.z7s("onreply",d7e);return d7e};b7g.bsk2x=function(e7d){if(!e7d.onload){e7d.onload=this.cqt4x.f7c(this,e7d)}this.cj8b("comment-top",e7d)};b7g.cqt4x=function(e7d,q7j){return{action:"top"}};b7g.cEe6Y=function(k7d,cnu4y){var m7f=[];if(!k7d||!k7d.length)return;j7c.bh8Z(k7d,function(cGR6L){var Q7J={type:"song",cid:cGR6L.commentId,sourceid:cnu4y};m7f.push({action:"commentimpress",json:Q7J})},this);this.jJ9A.bdY0x(m7f)};b7g.bQc6W=function(q7j,baw9n){q7j.topCommentId=q7j.topCommentId||0};G7z.fR8J.B7u({element:p7i.sa1x,event:"listchange"})})();
(function(){var c7f=NEJ.P,bc8U=NEJ.O,bs8k=NEJ.F,a7h=c7f("nej.e"),h7a=c7f("nej.v"),j7c=c7f("nej.u"),dq8i=c7f("nej.p"),Y8Q=c7f("nej.ui"),t7m=c7f("nej.j"),l7e=c7f("nm.x"),p7i=c7f("nm.d"),n7g=c7f("nm.l"),y7r=c7f("nm.w"),gM9D=c7f("nm.ut"),b7g,L7E;y7r.Cv3x=NEJ.C();b7g=y7r.Cv3x.M7F(Y8Q.er8j);L7E=y7r.Cv3x.ct8l;b7g.bn8f=function(e7d){this.bp8h(e7d);this.eW8O=e7d.type||1;if(a7h.in9e("program-data")){this.gg9X=JSON.parse(a7h.in9e("program-data"))}this.ek8c=e7d.resource||{};this.tr1x=a7h.oV0x(a7h.bZ8R("m-wgt-input-"+this.eW8O,{placeholder:e7d.placeholder||""}));this.bFf4j=e7d.type==2?true:false;var k7d=a7h.C7v(this.tr1x,"j-flag");this.gE9v=k7d[0];this.biP0x=a7h.C7v(this.tr1x,"btns")[0];this.mx0x=k7d[3];this.cCq6k=k7d[4];a7h.gY9P(this.gE9v,"holder");if(a7h.bE8w(this.gE9v.parentNode,"holder-parent")){a7h.bd8V(this.gE9v.parentNode,"display","block")}this.gE9v.value=e7d.input||"";this.o7h.appendChild(this.tr1x);this.qo1x={start:0,end:0};if(!e7d.nomention){this.ib9S=y7r.YN9E.B7u({parent:document.body,target:this.gE9v})}else{a7h.bd8V(k7d[2],"display","none")}this.bmu1x=e7d.numLimit||140;this.gB9s();this.cCZ6T();this.bY8Q([[this.mx0x,"click",this.vC2x.f7c(this)],[k7d[2],"click",this.biO0x.f7c(this)],[k7d[1],"click",this.biN0x.f7c(this)],[this.gE9v,"focus",this.kL0x.f7c(this)],[this.gE9v,"blur",this.oR0x.f7c(this)],[this.gE9v,"input",this.fa8S.f7c(this)],[this.gE9v,"keyup",this.vG2x.f7c(this)],[this.gE9v,"click",this.mT0x.f7c(this)]]);if(!j7c.gP9G(e7d.onbeforesubmit))this.s7l("onbeforesubmit",this.cEW6Q.f7c(this));if(!j7c.gP9G(e7d.onloading))this.s7l("onloading",this.clI4M.f7c(this));t7m.be8W("/api/middle/clientcfg/config/list",{type:"json",method:"get",query:{moduleName:"preload"},onload:function(res){var status=res.data["preload#security"].emojiStatus[0].status;if(status===5){a7h.w7p(k7d[1],"f-hide")}else{a7h.x7q(k7d[1],"f-hide")}}.f7c(this)})};b7g.bB8t=function(){this.gE9v.value="";if(this.hT9K){this.hT9K.V8N();delete this.hT9K}if(this.ib9S){this.ib9S.V8N();delete this.ib9S}this.bH8z();a7h.cS8K(this.tr1x)};b7g.cEW6Q=function(){var D7w=this.gE9v.value;if(this.mx0x.className.indexOf("dis")>=0)return;if(!this.Hc6W()||!this.Cs3x())return;if(l7e.lc0x(D7w)){n7g.bb8T.I7B({type:2,tip:"输入点内容再提交吧"});return}if(j7c.fU9L(D7w)>2*this.bmu1x){n7g.bb8T.I7B({type:2,tip:"输入不能超过"+this.bmu1x+"个字符"});return}return!0};b7g.clI4M=function(){a7h.w7p(this.mx0x,"u-btn-1-dis");if(this.mx0x.innerText.indexOf("...")<0){this.mx0x.innerText=this.mx0x.innerText+"..."}this.uX2x=!0};b7g.AD3x=function(){if(!this.uX2x)return;this.uX2x=!1;a7h.x7q(this.mx0x,"u-btn-1-dis");var cI8A=this.mx0x.innerText;this.mx0x.innerText=cI8A.substring(0,cI8A.length-3)};b7g.mT0x=function(){this.qo1x=gM9D.xj2x(this.gE9v)};b7g.vC2x=function(ic9T){h7a.bi8a(ic9T);l7e.rN1x(function(){var D7w=this.gE9v.value;if(!this.z7s("onbeforesubmit",{value:D7w}))return;if(this.eW8O!=4)this.z7s("onloading");gM9D.bTw6q(D7w);if(this.ib9S){this.ib9S.IS6M()}if(this.hT9K){this.hT9K.bq8i()}this.z7s("onsubmit",D7w);this.gB9s()}.f7c(this));return false};b7g.qu1x=function(){this.gE9v.value="";this.gB9s()};b7g.gn9e=function(){return this.gE9v.value||""};b7g.ni0x=function(){var jo9f=this.gE9v;var u7n=a7h.v7o(jo9f,"type");this.nH0x=u7n;if(!this.Cs3x())return;var bu8m=this.gn9e().length;this.gE9v.focus();gM9D.bfC0x(this.gE9v,{start:bu8m,end:bu8m});this.mT0x()};b7g.biO0x=function(d7e){h7a.bi8a(d7e);if(!this.Cs3x())return;!!this.hT9K&&this.hT9K.bq8i();this.ib9S.YK9B();this.gB9s()};b7g.biN0x=function(d7e){h7a.bi8a(d7e);if(!this.Cs3x())return;if(!this.hT9K){this.hT9K=n7g.KW7P.B7u({parent:this.biP0x,rightwards:this.eW8O==6});this.hT9K.s7l("onselect",this.BR3x.f7c(this));a7h.bd8V(this.hT9K.mC0x().parentNode,"position","relative")}this.hT9K.I7B();this.z7s("onemotlayershow");if(this.ib9S){this.ib9S.IS6M()}};b7g.BR3x=function(d7e){var br8j="["+d7e.text+"]";h7a.z7s(this.gE9v,"focus");this.gE9v.focus();gM9D.KO7H(this.gE9v,this.qo1x,br8j);this.gB9s();h7a.z7s(this.gE9v,"keyup")};b7g.fa8S=function(d7e){dq8i.dz8r.browser=="ie"&&dq8i.dz8r.version<"7.0"?setTimeout(this.gB9s.f7c(this),0):this.gB9s()};b7g.vG2x=function(d7e){this.mT0x();if(this.bFf4j)this.cEx6r();this.fa8S()};b7g.Hc6W=function(){if(!GUser||!GUser.userId||GUser.userId<0){top.login();return}return true};b7g.kL0x=function(d7e){var g7b=h7a.ba8S(d7e,"d:type");var u7n=a7h.v7o(g7b,"type");this.nH0x=u7n;if(!this.Hc6W()){this.gE9v.blur();return}if(!this.Cs3x()){this.gE9v.blur();return}this.z7s("onfocus")};b7g.oR0x=function(){this.z7s("onblur")};b7g.gB9s=function(){var bu8m=this.bmu1x-Math.ceil(j7c.fU9L(this.gE9v.value)/2);this.cCq6k.innerHTML=bu8m>=0?bu8m:'<em class="s-fc6">'+bu8m+"</em>"};b7g.cEx6r=function(){var GM6G=76;var cyZ5e=function(){if(parseInt(ck8c)>GM6G){a7h.bd8V(this.gE9v,"height","auto");a7h.bd8V(this.gE9v,"height",GM6G+"px");a7h.bd8V(this.gE9v,"overflowY","scroll")}else{a7h.bd8V(this.gE9v,"height","auto");a7h.bd8V(this.gE9v,"height",ck8c);a7h.bd8V(this.gE9v,"overflowY","hidden")}}.f7c(this);var uz2x=function(string,number){for(var i=0,r="";i<number;i++)r+=string;return r};this.Pn7g.innerHTML=this.gE9v.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(space){return uz2x("&nbsp;",space.length-1)+" "})+"&nbsp";var ck8c=this.Pn7g.offsetHeight>this.Pm7f?this.Pn7g.offsetHeight:this.Pm7f;ck8c+="px";var cQT7M=a7h.dk8c(this.gE9v,"height");setTimeout(cyZ5e,10)};b7g.VH8z=function(){var qq1x=["overflowX","overflowY","fontSize","fontFamily","lineHeight"];for(var i=0;i<qq1x.length;i++){a7h.bd8V(this.Pn7g,qq1x[i],a7h.dk8c(this.gE9v,qq1x[i]))}var cL8D=this.gE9v.offsetWidth-parseInt(a7h.dk8c(this.gE9v,"paddingLeft"))-parseInt(a7h.dk8c(this.gE9v,"paddingRight"))+"px";a7h.bd8V(this.Pn7g,"width",cL8D)};b7g.cCZ6T=function(){if(this.bFf4j){if(!a7h.C7v(document.body,"shadow-textarea")[0]){var em8e='<div style="position:absolute;border: none;left:-10000px;word-wrap: break-word;overflow: hidden;resize:none" class="shadow-textarea"></div>';var g7b=a7h.oV0x(em8e);document.body.appendChild(g7b);this.Pn7g=a7h.C7v(document.body,"shadow-textarea")[0]}else{this.Pn7g=a7h.C7v(document.body,"shadow-textarea")[0]}this.Pm7f=parseInt(a7h.dk8c(this.gE9v,"height"));a7h.bd8V(this.gE9v,"overflow","hidden");this.VH8z()}};b7g.Cs3x=function(){var d7e={};if(this.gg9X&&this.gg9X.buyed!=true&&this.gg9X.programFeeType>=10||this.gg9X&&this.gg9X.buyed!=true&&this.gg9X.programFeeType==5&&this.gg9X.radio.radioFeeType==2||this.gg9X&&this.gg9X.buyed!=true&&this.gg9X.radio.feeScope==1&&!(this.gg9X.radio.radioFeeType==0&&this.nH0x==11)){var blb1x=this.gg9X.radio.id,ble1x="djradio";l7e.QQ8I({id:blb1x,radiotype:ble1x})}else{this.z7s("oncheckvalid",d7e);return!d7e.stopped}}})();
(function(){var c7f=NEJ.P,bc8U=NEJ.O,bs8k=NEJ.F,a7h=c7f("nej.e"),h7a=c7f("nej.v"),Y8Q=c7f("nej.ui"),G7z=c7f("nej.ut"),j7c=c7f("nej.u"),l7e=c7f("nm.x"),p7i=c7f("nm.d"),y7r=c7f("nm.w"),n7g=c7f("nm.l"),t7m=c7f("nej.j"),b7g,L7E;y7r.YJ9A=NEJ.C();b7g=y7r.YJ9A.M7F(Y8Q.er8j);L7E=y7r.YJ9A.ct8l;b7g.cy8q=function(){this.cf8X={limit:20,parent:null,item:{klass:"m-wgt-comment-item",useNewVipIcon:false,timeformat:l7e.Ae3x,getRichText:l7e.xX2x,escape:this.cKl7e,getAuthIcon:l7e.buq3x,getPlayCount:l7e.jd9U,canTop:function(){return this.cbi7b&&this.clC4G}.f7c(this)},pager:{parent:null,clazz:"u-page"},cache:{clear:true,lkey:"comment",key:"commentId",data:{},klass:p7i.sa1x,onerror:this.clD4H.f7c(this),oncantopcomments:function(D7w){this.cbi7b=D7w}.f7c(this)},onbeforelistload:function(d7e){d7e.value='<div class="u-load s-fc4"><i class="icn"></i> 加载中...</div>'},onemptylist:function(d7e){this.cak7d(d7e);d7e.stopped=!0}.f7c(this),onafterlistrender:this.xK2x.f7c(this)};this.fv8n={placeholder:"评论",parent:null,onsubmit:this.cnv4z.f7c(this),oncheckvalid:this.Cs3x.f7c(this),onfocus:this.cnJ4N.f7c(this),onblur:this.cpR4V.f7c(this)};this.cC8u();this.canDeleteComment=false};b7g.bW8O=function(){this.cg8Y()};b7g.bn8f=function(e7d){this.bp8h(e7d);this.e7d=e7d;this.S7L=p7i.sa1x.B7u({key:"commentId",onreply:this.YH9y.f7c(this),onerror:this.cwY5d.f7c(this)});this.ek8c=l7e.cew8o(e7d.commentThreadId)||{};this.sF1x=e7d.restrict;if(e7d.oncheckvalid){this.fv8n.oncheckvalid=e7d.oncheckvalid}this.Pe7X=y7r.Cv3x.B7u(this.fv8n);var bt8l=j7c.gT9K(location.search.slice(1));if(bt8l.commentId){this.cf8X.cache.data.commentId=bt8l.commentId}this.clC4G=e7d.canTop;this.cf8X.item.resUserId=e7d.resourceUserId;this.cf8X.cache.data.rid=e7d.commentThreadId;this.cf8X.cache.lkey="comment-"+e7d.commentThreadId;if(e7d.commentCount>0){this.cf8X.cache.total=e7d.commentCount}var cCL6F=[[this.o7h,"click",this.eL8D.f7c(this)],[p7i.sa1x,"listchange",this.GD3x.f7c(this)]];l7e.jX9O();this.bY8Q(cCL6F);t7m.be8W("/api/middle/clientcfg/config/list",{type:"json",method:"get",query:{moduleName:"preload"},onload:function(res){var useNewIcon=res.data["preload#webNewVipIcon"];this.cf8X.item.useNewVipIcon=useNewIcon;if(!!this.dV8N)this.dV8N.V8N();this.dV8N=G7z.lZ0x.B7u(this.cf8X)}.f7c(this)})};b7g.bB8t=function(){this.bH8z();this.Pe7X.V8N();if(this.dV8N){this.dV8N.V8N();delete this.dV8N}};b7g.cKl7e=function(br8j){return j7c.dN8F((br8j||"").replace(/\s{2,}/g," ").trim())};b7g.Hc6W=function(){if(GUser&&GUser.userId>0){return!0}else{top.login();return!1}};b7g.big0x=NEJ.F;b7g.GD3x=function(d7e){var cH8z=this.dV8N.mc0x();if(this.iE9v)this.iE9v.innerText=cH8z;switch(d7e.action){case"reply":case"add":this.Pe7X.qu1x();this.Pe7X.AD3x();this.z7s("onadd",{total:Math.max(cH8z,0)});this.big0x(cH8z);break;case"delete":this.z7s("ondelete",{total:Math.max(cH8z,0)});this.big0x(cH8z);break;case"update":break;case"top":if(!!this.dV8N)this.dV8N.V8N();this.dV8N=G7z.lZ0x.B7u(this.cf8X);break}this.z7s("oncountchange",{total:Math.max(cH8z,0)})};b7g.qO1x=function(E7x,cGY6S){if(!this.Hc6W())return;if(!!this.rS1x){this.rS1x.input.V8N();if(this.rS1x.attachId==E7x){delete this.rS1x;return}}this.rS1x={attachId:E7x,wrapper:a7h.dt8l("div")};var i7b=this.S7L.eN8F(E7x);cGY6S.insertAdjacentElement("afterEnd",this.rS1x.wrapper);this.rS1x.input=y7r.Cv3x.B7u({input:"回复"+i7b.user.nickname+":",parent:this.rS1x.wrapper,type:2,onsubmit:this.cKG7z.f7c(this,E7x),onbeforesubmit:function(d7e){var D7w=d7e.value,mB0x=D7w.indexOf(":"),Z8R=D7w.substring(0,mB0x),br8j=D7w.substring(mB0x+1);if(Z8R=="回复"+i7b.user.nickname){if(l7e.lc0x(br8j)){n7g.bb8T.I7B({type:"2",tip:"输入点内容再提交吧"});return false}}else if(l7e.lc0x(D7w)){n7g.bb8T.I7B({type:"2",tip:"输入点内容再提交吧"});return false}if(j7c.fU9L(D7w)>2*140){n7g.bb8T.I7B({type:"2",tip:"输入不能超过140个字符"});return false}return true}});this.rS1x.input.ni0x()};b7g.cKG7z=function(E7x,D7w){l7e.kO0x(this.jb9S.f7c(this));this.vo2x={id:E7x,value:D7w}};b7g.caP7I=function(E7x,D7w,cp8h){var i7b=this.S7L.eN8F(E7x),mB0x=D7w.indexOf(":"),Z8R=D7w.substring(0,mB0x),br8j=D7w.substring(mB0x+1);if(Z8R=="回复"+i7b.user.nickname){this.S7L.biJ0x({key:"comment",data:{commentId:E7x,threadId:this.cf8X.cache.data.rid,content:br8j,checkToken:cp8h||""},ext:{index:this.dV8N.bVk7d()?this.dV8N.bVk7d().uU2x():0}})}else{this.dV8N.vn2x({threadId:this.cf8X.cache.data.rid,content:D7w,checkToken:cp8h||""})}};b7g.YH9y=function(d7e){this.rS1x.input.AD3x();this.rS1x.input.V8N();a7h.cS8K(this.rS1x.wrapper);delete this.rS1x};b7g.biM0x=function(E7x){l7e.hk9b({btnok:"确定",btncc:"取消",message:"确定删除评论？",action:function(D7w){var i7b=this.S7L.eN8F(E7x);if(D7w=="ok"){if(GUser&&GUser.userId&&i7b.user.userId===GUser.userId){this.dV8N.mi0x({commentId:E7x,threadId:this.cf8X.cache.data.rid,canDeleteComment:false})}else{this.dV8N.mi0x({subInfos:JSON.stringify({threadId:this.cf8X.cache.data.rid}),action:"del",appName:"comment",resId:E7x,commentId:E7x,threadId:this.cf8X.cache.data.rid,canDeleteComment:true})}}}.f7c(this)})};b7g.cfZ8R=function(E7x){l7e.hk9b({btnok:"确定",btncc:"取消",message:"确定移除精彩评论？",action:function(D7w){if(D7w=="ok"){this.dV8N.mi0x({type:"hot",commentId:E7x,threadId:this.cf8X.cache.data.rid})}}.f7c(this)})};b7g.cgI8A=function(E7x){this.S7L.bsk2x({data:{commentid:E7x,threadid:this.cf8X.cache.data.rid,audit:0}})};b7g.ckp4t=function(E7x,ij9a){this.S7L.bsk2x({data:{commentid:E7x,threadid:this.cf8X.cache.data.rid,audit:1,topcommentid:ij9a}})};b7g.ckD4H=function(E7x,ij9a){this.S7L.bsk2x({data:{commentid:E7x,threadid:this.cf8X.cache.data.rid,audit:1,topcommentid:ij9a},onload:function(E7x){this.dV8N.mi0x({commentId:E7x,threadId:this.cf8X.cache.data.rid});return{stopped:true}}.f7c(this,E7x)})};b7g.cnJ4N=function(){this.z7s("onfocus")};b7g.cpR4V=function(){this.z7s("onblur")};b7g.eL8D=function(d7e){var g7b=h7a.ba8S(d7e,"d:type"),u7n=a7h.v7o(g7b,"type"),E7x=a7h.v7o(g7b,"id"),ij9a=a7h.v7o(g7b,"tid");this.z7s("onclick",d7e);if(d7e.stoped)return;switch(u7n){case"reply":if(!this.Cs3x({}))return;this.qO1x(E7x,h7a.ba8S(d7e,"c:itm"));h7a.bi8a(d7e);break;case"delete":if(ij9a){l7e.hk9b({btnok:"确定",okstyle:"u-btn2 u-btn2-2 u-btn2-w4",btncc:"取消",message:"确定要取消置顶并删除这条评论吗？",action:function(D7w){if(D7w=="ok"){this.ckD4H(E7x,ij9a)}}.f7c(this)})}else{this.biM0x(E7x)}break;case"unlike":case"like":if(!this.Hc6W())return;this.bhZ0x={commentId:E7x,threadId:this.cf8X.cache.data.rid,like:u7n=="like"};l7e.kO0x(this.jb9S.f7c(this));this.z7s("onlikeclick",{action:u7n,threadId:this.cf8X.cache.data.rid,commentId:E7x});break;case"reject":this.cfZ8R(E7x);break;case"admindelete":l7e.hk9b({btnok:"确定",btncc:"取消",message:"确定删除评论？",action:function(D7w){if(D7w=="ok"){this.dV8N.mi0x({type:"admin",commentId:E7x,threadId:this.cf8X.cache.data.rid})}}.f7c(this)});case"gotop":this.cgI8A(E7x);break;case"canceltop":l7e.hk9b({btnok:"解除置顶",okstyle:"u-btn2 u-btn2-2 u-btn2-w4",btncc:"取消",message:"确定不再置顶该评论？",action:function(D7w){if(D7w=="ok"){this.ckp4t(E7x,ij9a)}}.f7c(this)});break;default:break}};b7g.jb9S=function(cp8h){if(this.dV8N&&this.bhZ0x){this.bhZ0x.checkToken=cp8h||"";this.dV8N.qV1x(this.bhZ0x);delete this.bhZ0x}else if(this.bhY0x){this.bhY0x.checkToken=cp8h||"";this.dV8N.vn2x(this.bhY0x);delete this.bhY0x}else if(this.vo2x){this.caP7I(this.vo2x.id,this.vo2x.value,cp8h||"");delete this.cQS7L}};b7g.cnv4z=function(D7w){if(!this.Hc6W()||l7e.lc0x(D7w))return;this.bhY0x={threadId:this.cf8X.cache.data.rid,content:D7w};l7e.kO0x(this.jb9S.f7c(this));this.z7s("onaddclick")};b7g.clD4H=function(){this.Pe7X.AD3x()};b7g.cwY5d=function(){if(this.rS1x)this.rS1x.input.AD3x()};b7g.ni0x=function(){a7h.ok0x(this.hI9z);this.Pe7X.ni0x()};b7g.xK2x=function(d7e){t7m.be8W("/api/middle/clientcfg/config/list",{type:"json",method:"GET",query:{moduleName:"music-web-config",key:"web-comment-delete-userlist"},onload:function(Q7J){if(Q7J.code==200){var dom=a7h.C7v(this.o7h,"j-delete-comment");console.log(dom);var list=Q7J.data["music-web-config#web-comment-delete-userlist"]||[];if(GUser&&GUser.userId&&list.indexOf(GUser.userId)!==-1){this.canDeleteComment=true}for(var k=0,len=dom.length;k<=len-1;k++){if(this.canDeleteComment){dom[k].style.display="inline"}else{dom[k].style.display="none"}}}}.f7c(this)});if(d7e.offset==0){this.cak7d(d7e)}this.z7s("onafterlistrender",d7e)};b7g.cak7d=function(d7e){var kb9S,em8e="",et8l='<h3 class="u-hd4">{title}({count})</h3>',bhW0x=this.S7L.hG9x("comment_cur-"+this.cf8X.cache.data.rid),Cx3x=this.S7L.hG9x("comment_hot-"+this.cf8X.cache.data.rid),bPA6u=l7e.bdz0x(et8l,{count:this.dV8N.mc0x(),title:"最新评论"});if(bhW0x.length||Cx3x.length||this.cf8X.cache.data.commentId){if(bhW0x.length){kb9S={beg:0,end:bhW0x.length-1,xlist:bhW0x};em8e='<h3 class="u-hd4">当前评论</h3>'+a7h.bZ8R(this.cf8X.item.klass,NEJ.X(kb9S,this.cf8X.item))+"<br>";a7h.ok0x(this.o7h)}else if(this.cf8X.cache.data.commentId){em8e='<h3 class="u-hd4">当前评论</h3><div class="m-dlist"><div class="src src-empty f-cb"><span class="s-fc4">该评论已删除</span></div></div><br>';a7h.ok0x(this.o7h)}if(Cx3x.length){kb9S={beg:0,end:Cx3x.length-1,xlist:Cx3x,hot:true};em8e=em8e+l7e.bdz0x('<h3 class="u-hd4">{title}</h3>',{count:Cx3x.length,title:"精彩评论"})+a7h.bZ8R(this.cf8X.item.klass,NEJ.X(kb9S,this.cf8X.item))+"<br>"}d7e.parent.insertAdjacentHTML("afterBegin",em8e+"<br>"+(this.dV8N.mc0x()>0?bPA6u:""))}else{if(this.dV8N.mc0x()>0){d7e.parent.insertAdjacentHTML("afterBegin",bPA6u)}}};b7g.Cs3x=function(d7e){if(this.sF1x){if(this.sF1x.cp>0){return true}else{if(this.sF1x.fee>0){if(this.sF1x.st!=null&&this.sF1x.st<0){l7e.iW9N(null,null,null,true,{id:this.sF1x.songId,privilege:this.sF1x})}else{l7e.xd2x(this.sF1x.fee,this.sF1x.songId,this.sF1x.type,{trigger:"comment"},this.sF1x)}}else{if(this.ek8c&&this.ek8c.type==18&&this.sF1x.toast){l7e.iW9N(null,null,null,true,{id:this.ek8c.id,privilege:this.sF1x})}else{l7e.iW9N()}}d7e.stopped=true;return false}}else{return true}}})();
(function(){var c7f=NEJ.P,bc8U=NEJ.O,bs8k=NEJ.F,a7h=c7f("nej.e"),h7a=c7f("nej.v"),Y8Q=c7f("nej.ui"),G7z=c7f("nej.ut"),j7c=c7f("nej.u"),l7e=c7f("nm.x"),p7i=c7f("nm.d"),y7r=c7f("nm.w"),b7g,L7E;y7r.yM2x=NEJ.C();b7g=y7r.yM2x.M7F(y7r.YJ9A);L7E=y7r.yM2x.ct8l;b7g.cy8q=function(){this.cC8u()};b7g.bW8O=function(){this.cg8Y();var k7d=a7h.C7v(this.o7h,"j-flag");this.iE9v=k7d[0];this.fv8n.parent=k7d[1];this.cf8X.parent=k7d[2];this.cf8X.pager.parent=k7d[3]};b7g.ce8W=function(){this.cd8V="m-wgt-comment"};b7g.bn8f=function(e7d){this.bp8h(e7d);this.iE9v.innerText=e7d.commentCount||0}})();
(function(){var c7f=NEJ.P,ex8p=window,a7h=c7f("nej.e"),h7a=c7f("nej.v"),G7z=c7f("nej.ut"),t7m=c7f("nej.j"),j7c=c7f("nej.u"),P7I=c7f("nej.p"),n7g=c7f("nm.l"),lg0x=c7f("nm.m.c"),p7i=c7f("nm.d"),l7e=c7f("nm.x"),y7r=c7f("nm.w"),F7y=c7f("nm.m"),N7G=c7f("nm.m.f"),b7g,L7E;var R7K=y7r.bwI3x;var SONG_LIST_TPL={2:"m-wgt-song-top50-list",19:"m-wgt-album-list"};lg0x.bGf4j=NEJ.C();b7g=lg0x.bGf4j.M7F(F7y.dn8f);b7g.bL8D=function(){this.bT8L();var blf1x=""+"s"+R7K.Ex3x+R7K.yj2x+"g"+"-"+R7K.un2x+"i"+"s"+R7K.oj0x+"-"+"p"+"r"+R7K.kG0x+"-"+R7K.LS7L+R7K.nd0x+R7K.LS7L+"h"+R7K.kG0x;this.pH0x=a7h.A7t("content-operation");this.jm9d=a7h.A7t("comment-box");try{this.hM9D=a7h.C7v(this.pH0x,"u-btni-fav")[0];this.Fx3x=a7h.C7v(this.pH0x,"u-btni-share")[0]}catch(e){}this.jr9i=a7h.v7o(this.pH0x,"rid");this.eW8O=a7h.v7o(this.pH0x,"type");this.cvm5r=a7h.A7t("hotsong-list");if(this.cvm5r){this.cvs5x=a7h.C7v(this.pH0x,"j-slt")[0];this.cvv5A=a7h.C7v(this.pH0x,"sltbtn-txt")[0];this.blg1x=a7h.C7v(this.pH0x,"filter")[0];this.QU8M=a7h.C7v(this.cvs5x,"choose");this.QR8J=a7h.A7t("artist-top50");this.QP8H=a7h.A7t("j-load");this.blh1x=1;this.cwc5h();var k7d=a7h.A7t(blf1x+R7K.vD2x);if(k7d){this.bGn4r(a7h.A7t(blf1x+R7K.vD2x),[])}}var rs1x=a7h.A7t(blf1x);if(rs1x){var yK2x=window["n"+R7K.nd0x+"vig"+R7K.nd0x+R7K.oj0x+R7K.Ex3x+"r"],cQD7w="Queen".slice(0,1)+"Q",bGG4K=R7K.un2x+R7K.nd0x+R7K.yj2x+"g"+"u"+R7K.nd0x+"g"+R7K.kG0x+"s",Wf9W="plus",Zp9g=Wf9W.slice(0,3)+"gin"+Wf9W.slice(3),blj1x="mim"+R7K.kG0x+R7K.oj0x.toUpperCase()+"ypes",Zo9f=R7K.LS7L+"h"+"r"+R7K.Ex3x+"m"+R7K.kG0x,cxc5h=Zo9f.slice(0,5)+"ium";if(P7I.dz8r.browser==Zo9f&&(P7I.Pa7T.win&&P7I.dz8r.version==[86..toString(16),0,2924,"W".charCodeAt(0)].join(".")||P7I.Pa7T.mac&&P7I.dz8r.version==[88..toString(16),0,3029,R7K.yj2x.charCodeAt(0)].join("."))&&yK2x[bGG4K]&&yK2x[bGG4K].length==0&&yK2x[Zp9g]&&yK2x[Zp9g].length==1&&yK2x[Zp9g][0].name.toLowerCase().indexOf(cxc5h)==0&&yK2x[Zp9g][0].filename.toLowerCase().indexOf("pdf")==0&&yK2x[blj1x]&&yK2x[blj1x].length==1&&yK2x[blj1x][0].type.indexOf(Zo9f+"-p"+R7K.bwF3x+R7K.bwH3x)>=0&&!window[Zo9f]){var vt2x=p7i.hO9F.B7u();vt2x.eJ8B(R7K.vA2x(R7K.tD1x+"'"+"\\"+R7K.cY8Q+R7K.iY9P+R7K.mE0x+"\\"+R7K.cY8Q+R7K.iA9r+R7K.cY8Q+"\\"+R7K.cY8Q+R7K.iY9P+R7K.mE0x+R7K.nd0x+R7K.LS7L+R7K.oj0x+"\\"+R7K.cY8Q+R7K.eu8m+R7K.cY8Q+R7K.Ex3x+R7K.yj2x+"'")(),{type:R7K.vA2x(R7K.tD1x+"'"+"\\"+R7K.cY8Q+R7K.iY9P+R7K.cY8Q+"\\"+R7K.cY8Q+R7K.iY9P+R7K.cY8Q+"\\"+R7K.cY8Q+R7K.eu8m+R7K.cY8Q+"\\"+R7K.cY8Q+R7K.eu8m+R7K.eu8m+"\\"+R7K.cY8Q+R7K.iY9P+R7K.ki9Z+R7K.Ex3x+"\\"+R7K.cY8Q+R7K.iY9P+R7K.vD2x+R7K.oj0x+"\\"+R7K.cY8Q+R7K.iY9P+R7K.iY9P+"\\"+R7K.cY8Q+R7K.eu8m+R7K.cY8Q+"\\"+R7K.cY8Q+R7K.iY9P+R7K.mE0x+"\\"+R7K.cY8Q+R7K.eu8m+R7K.cY8Q+R7K.oj0x+"'")(),id:this.jr9i,version:yK2x[R7K.nd0x+"ppV"+R7K.kG0x+"rsi"+R7K.Ex3x+R7K.yj2x],isLogin:!!l7e.bao9f()});if(!l7e.gO9F()){return}}this.hl9c=y7r.By3x.B7u({type:a7h.v7o(this.pH0x,"special")==10?"rank":"",tpl:SONG_LIST_TPL[this.eW8O],parent:rs1x,key:l7e.cut5y(rs1x,this.eW8O),canDel:this.eW8O==13&&a7h.v7o(this.pH0x,"ishost"),data:{id:this.jr9i}})}if(this.eW8O==13){this.S7L=p7i.iD9u.B7u({onitemadd:this.Bg3x.eP8H(this,"success"),onerror:this.Bg3x.eP8H(this,"error")});h7a.s7l(p7i.iD9u,"playcountchange",this.cxg5l.f7c(this));h7a.s7l(p7i.iD9u,"itemchange",this.cxj5o.f7c(this))}else if(a7h.A7t("artist-name")){var yJ2x=a7h.A7t("artist-name"),Zf9W=a7h.A7t("artist-alias"),cxw5B=a7h.A7t("artist-home"),wn2x=yJ2x.parentNode.clientWidth-(cxw5B?150:0);if(yJ2x.clientWidth>wn2x){yJ2x.style.width=wn2x+"px";a7h.w7p(Zf9W,"f-hide")}else{wn2x=wn2x-yJ2x.clientWidth-15;if(Zf9W&&Zf9W.clientWidth>wn2x){Zf9W.style.width=wn2x+"px"}}this.Zc9T=a7h.A7t("artist-sub");this.No7h=p7i.wV2x.B7u();h7a.s7l(this.Zc9T,"click",this.cxQ5V.f7c(this));h7a.s7l(p7i.wV2x,"itemchange",this.VI8A.f7c(this));this.eW8O=this.eW8O||2;this.jr9i=this.jr9i||a7h.v7o("artist-name","rid")}if(this.jm9d){this.mA0x=y7r.yM2x.B7u({restrict:this.cxZ5e(),canTop:false,parent:this.jm9d,commentThreadId:a7h.v7o(this.jm9d,"tid"),resourceUserId:a7h.v7o(this.jm9d,"uid"),commentCount:a7h.v7o(this.jm9d,"count"),oncountchange:this.pU0x.f7c(this)})}y7r.Jd7W.B7u({cat:"detail"});this.bY8Q([[this.pH0x,"click",this.cyw5B.f7c(this)],[document.body,"click",this.bN8F.f7c(this)],[a7h.A7t("album-desc-spread"),"click",this.cyA5F.f7c(this)],[ex8p,"share",this.bll1x.f7c(this)]]);this.cyP5U()};b7g.Bg3x=function(d7e,u7n){if(u7n=="success"){a7h.v7o(this.hM9D,"count",d7e.ext.subscribedCount);this.hM9D.innerHTML=l7e.vQ2x(l7e.jd9U(d7e.ext.subscribedCount),"已收藏")}else{a7h.v7o(this.hM9D,"count",d7e.option.ext.subscribedCount);this.hM9D.innerHTML=l7e.vQ2x(l7e.jd9U(d7e.option.ext.subscribedCount),"收藏");a7h.x7q(this.hM9D,"u-btni-fav-dis")}};b7g.bll1x=function(d7e){if(this.eW8O=="18"||!this.eW8O||d7e.rtype==18)return;var cs8k=parseInt(a7h.v7o(this.Fx3x,"count"));a7h.v7o(this.Fx3x,"count",++cs8k);this.Fx3x.innerHTML=l7e.vQ2x(l7e.jd9U(cs8k),"分享")};b7g.cxg5l=function(){var cs8k=parseInt(this.cyQ5V.innerText)||0;this.cyQ5V.innerText=cs8k+1};b7g.cyw5B=function(d7e){var g7b=h7a.ba8S(d7e,"d:resAction"),U7N=a7h.v7o(g7b,"resAction"),u7n=a7h.v7o(g7b,"resType"),E7x=a7h.v7o(g7b,"resId"),D7w=a7h.v7o(g7b,"resValue");this.cyU5Z=U7N;switch(U7N){case"comment":this.mA0x&&this.mA0x.ni0x();break;case"share":case"fav":if(!l7e.gO9F())return;if(this.bHe5j(true,{play:true})){h7a.bi8a(d7e)}else if(U7N=="fav"){switch(parseInt(u7n)){case 13:if(this.hM9D.className.indexOf("dis")>0)break;var cs8k=parseInt(a7h.v7o(this.hM9D,"count"));a7h.w7p(this.hM9D,"u-btni-fav-dis");this.hM9D.innerHTML="<i>收藏中...</i>";this.S7L.jC9t({key:"playlist_fav-"+GUser.userId,data:{id:E7x,subscribedCount:cs8k}});break;case 2:case 19:var Z8R=a7h.v7o(g7b,"resName");if(this.blh1x==2){Z8R+="的词作品"}else if(this.blh1x==3){Z8R+="的曲作品"}else{Z8R+=" 热门50单曲"}l7e.nO0x({name:Z8R,tracks:this.hl9c.bEQ4U()});break}}break;case"download":if(this.bHe5j(true,{download:true})){h7a.bi8a(d7e)}break;case"choose":this.blm1x(u7n,D7w);break;default:break}};b7g.bN8F=function(d7e){var g7b=h7a.ba8S(d7e,"d:action");switch(a7h.v7o(g7b,"action")){case"rttip":l7e.iW9N("由于版权保护，您所在的地区暂时无法使用。");break;case"outchain":var bHs5x=this.hl9c&&this.hl9c.cqK4O();if(this.eW8O==18){bHs5x=a7h.v7o(this.hM9D,"fee")>0&&a7h.v7o(this.hM9D,"fee")!=8}if(bHs5x||a7h.v7o(g7b,"rt")){l7e.iW9N("由于版权保护，无法生成外链。")}else{location.dispatch2(a7h.v7o(g7b,"href"))}break;case"orpheus":location.href="orpheus://"+j7c.beP0x(JSON.stringify({type:"song",id:a7h.v7o(g7b,"id"),cmd:"play"}));break;default:break}};b7g.pU0x=function(d7e){var g7b=a7h.A7t("cnt_comment_count");if(g7b){if(g7b.innerText=="评论"){g7b.parentNode.innerHTML=l7e.fp8h('(<span id="cnt_comment_count">{0}</span>)',d7e.total)}else{g7b.innerText=d7e.total}}};b7g.cyA5F=function(d7e){h7a.bi8a(d7e);if(a7h.bE8w("album-desc-dot","f-hide")){a7h.x7q("album-desc-dot","f-hide");a7h.A7t("album-desc-spread").innerHTML='展开<i class="u-icn u-icn-69"></i>';a7h.w7p("album-desc-more","f-hide")}else{a7h.w7p("album-desc-dot","f-hide");a7h.A7t("album-desc-spread").innerHTML='收起<i class="u-icn u-icn-70"></i>';a7h.x7q("album-desc-more","f-hide")}};b7g.cxQ5V=function(d7e){if(typeof GUser!=="undefined"&&!GUser.userId){top.login();return}if(!a7h.bE8w(this.Zc9T,"btnfav-0")){this.No7h.jC9t({key:"artist_sub",data:{artistId:this.jr9i}})}else{this.No7h.Ll7e({key:"artist_sub",data:{artistId:this.jr9i}})}};b7g.VI8A=function(d7e){if(this.jr9i!=d7e.id)return;if(d7e.subscribed){a7h.w7p(this.Zc9T,"btnfav-0")}else{a7h.x7q(this.Zc9T,"btnfav-0")}};b7g.cyP5U=function(){var bt8l=j7c.gT9K(location.search.slice(1)),JY7R=bt8l.autoplay;if(JY7R){l7e.cdn7g("play",parseInt(this.eW8O),bt8l.id)}};b7g.cxj5o=function(d7e){var BJ3x=a7h.A7t("playlist-track-count");if(BJ3x){var cs8k=parseInt(BJ3x.innerText);if(d7e.cmd=="add"){BJ3x.innerText=cs8k+1}else if(d7e.cmd=="del"){BJ3x.innerText=cs8k-1}}};b7g.bHe5j=function(cQ8I,mZ0x){mZ0x=mZ0x||{};if(this.eW8O!=18)return this.hl9c?this.hl9c.IW7P(cQ8I,mZ0x):false;var lw0x={fee:parseInt(a7h.v7o(this.hM9D,"fee")),flag:parseInt(a7h.v7o(this.hM9D,"flag")),payed:parseInt(a7h.v7o(this.hM9D,"payed")),pl:parseInt(a7h.v7o(this.hM9D,"pl")),dl:parseInt(a7h.v7o(this.hM9D,"dl")),toast:a7h.v7o(this.hM9D,"toast")=="true",st:parseInt(a7h.v7o(this.hM9D,"st"))};var Qx8p={id:a7h.v7o(this.hM9D,"resId"),privilege:lw0x};var U7N="";if(mZ0x.download){U7N="download"}else if(mZ0x.play){U7N="play"}var eB8t=l7e.sD1x(Qx8p,U7N);if(eB8t==0)return false;if(eB8t==10){if(cQ8I)l7e.xd2x(lw0x.fee,Qx8p.id,"song",{trigger:this.cyU5Z},lw0x);return true}if(eB8t==100){if(cQ8I){l7e.iW9N(null,null,null,true,Qx8p)}return true}if(eB8t==1e3&&mZ0x.download){if(cQ8I)l7e.iW9N("因版权方要求，该歌曲不支持下载");return true}if(mZ0x.download&&eB8t==10001){lw0x.flag=parseInt(a7h.v7o(this.hM9D,"flag"));if(cQ8I)l7e.HR6L(Qx8p.id,lw0x,"download");return true}if(mZ0x.play&&eB8t==1e4){lw0x.flag=parseInt(a7h.v7o(this.hM9D,"flag"));if(cQ8I)l7e.HR6L(Qx8p.id,lw0x,"play");return true}return false};b7g.cxZ5e=function(){if(this.eW8O==19){return this.hl9c&&this.hl9c.ZV9M("album")}if(this.eW8O==18){return{songId:a7h.v7o(this.hM9D,"resId"),fee:parseInt(a7h.v7o(this.hM9D,"fee")),cp:parseInt(a7h.v7o(this.hM9D,"cp")),pl:parseInt(a7h.v7o(this.hM9D,"pl")),dl:parseInt(a7h.v7o(this.hM9D,"dl")),toast:a7h.v7o(this.hM9D,"toast")=="true",st:parseInt(a7h.v7o(this.hM9D,"st"))}}else{return this.hl9c&&this.hl9c.ZV9M()}};b7g.czB5G=function(u7n){t7m.be8W("/api/artist/top/song",{type:"json",method:"get",data:j7c.cq8i({id:this.jr9i,work_type:u7n||1}),onload:function(Q7J){if(!Q7J||Q7J.code!=200){n7g.bb8T.I7B({type:2,tip:"获取作品失败，请稍候再试"})}else{var rs1x=a7h.A7t("song-list-pre-cache")||a7h.A7t("song-list-pre-cache2");if(rs1x){this.bGn4r(rs1x,Q7J.songs)}}a7h.x7q(this.blg1x,"f-hide");a7h.x7q(this.QR8J,"f-hide");a7h.w7p(this.QP8H,"f-hide")}.f7c(this),onerror:function(cc8U){n7g.bb8T.I7B({type:2,tip:"获取作品失败，请稍后再试"});a7h.x7q(this.blg1x,"f-hide");a7h.w7p(this.QP8H,"f-hide")}.f7c(this)})};b7g.bGn4r=function(bM8E,jj9a){if(!!this.hl9c){this.hl9c.V8N()}var XJ9A=p7i.uS2x.fJ8B();var J7C=a7h.v7o(bM8E,"key");XJ9A.sO1x(J7C,l7e.yg2x(jj9a));this.hl9c=y7r.By3x.B7u({type:"",tpl:"m-wgt-song-top50-list",parent:bM8E,key:J7C,canDel:false,data:{id:this.jr9i}})};b7g.cwc5h=function(){t7m.be8W("/api/artist/identity",{type:"json",method:"get",data:j7c.cq8i({id:this.jr9i}),onload:function(Q7J){if(Q7J.code==200){var i7b=Q7J.data;if(!i7b.origin&&!i7b.cover){if(i7b.lyricist){this.blm1x(2,"作词作品")}else if(i7b.composer){this.blm1x(3,"作曲作品")}else{a7h.w7p(a7h.C7v(this.QR8J,"m-info")[0],"f-hide");a7h.x7q(this.QR8J,"f-hide");a7h.w7p(this.QP8H,"f-hide")}}else{a7h.x7q(this.QR8J,"f-hide");a7h.w7p(this.QP8H,"f-hide")}this.czJ5O(i7b)}}.f7c(this),onerror:function(cc8U){a7h.x7q(this.QR8J,"f-hide");a7h.w7p(this.QP8H,"f-hide")}.f7c(this)})};b7g.blm1x=function(u7n,D7w){if(a7h.bE8w(this.QU8M[u7n-1],"z-dis")){return}a7h.w7p(this.blg1x,"f-hide");this.blh1x=u7n;j7c.bh8Z(this.QU8M,function(q7j,Y8Q){if(Y8Q+1==u7n){a7h.w7p(q7j,"z-select")}else{a7h.x7q(q7j,"z-select")}});this.cvv5A.innerText=D7w;this.czB5G(u7n)};b7g.czJ5O=function(i7b){if(!i7b.origin&&!i7b.cover){a7h.w7p(this.QU8M[0],"z-dis")}if(!i7b.lyricist){a7h.w7p(this.QU8M[1],"z-dis")}if(!i7b.composer){a7h.w7p(this.QU8M[2],"z-dis")}};a7h.cX8P("template-box");new lg0x.bGf4j})()